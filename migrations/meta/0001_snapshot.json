{
  "version": "6",
  "dialect": "sqlite",
  "tables": {
    "apikey": {
      "name": "apikey",
      "columns": {
        "id": { "name": "id", "type": "text", "primaryKey": true, "notNull": true },
        "name": { "name": "name", "type": "text", "notNull": false },
        "start": { "name": "start", "type": "text", "notNull": false },
        "prefix": { "name": "prefix", "type": "text", "notNull": false },
        "key": { "name": "key", "type": "text", "notNull": true },
        "user_id": { "name": "user_id", "type": "text", "notNull": true },
        "refill_interval": { "name": "refill_interval", "type": "integer", "notNull": false },
        "refill_amount": { "name": "refill_amount", "type": "integer", "notNull": false },
        "last_refill_at": { "name": "last_refill_at", "type": "integer", "notNull": false },
        "enabled": { "name": "enabled", "type": "integer", "notNull": true, "default": true },
        "rate_limit_enabled": { "name": "rate_limit_enabled", "type": "integer", "notNull": true, "default": true },
        "rate_limit_time_window": { "name": "rate_limit_time_window", "type": "integer", "notNull": false },
        "rate_limit_max": { "name": "rate_limit_max", "type": "integer", "notNull": false },
        "request_count": { "name": "request_count", "type": "integer", "notNull": true, "default": 0 },
        "remaining": { "name": "remaining", "type": "integer", "notNull": false },
        "last_request": { "name": "last_request", "type": "integer", "notNull": false },
        "expires_at": { "name": "expires_at", "type": "integer", "notNull": false },
        "created_at": { "name": "created_at", "type": "integer", "notNull": true },
        "updated_at": { "name": "updated_at", "type": "integer", "notNull": true },
        "permissions": { "name": "permissions", "type": "text", "notNull": false },
        "metadata": { "name": "metadata", "type": "text", "notNull": false }
      },
      "foreignKeys": {
        "apikey_user_id_user_id_fk": {
          "name": "apikey_user_id_user_id_fk",
          "tableFrom": "apikey",
          "tableTo": "user",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      }
    }
  }
}
